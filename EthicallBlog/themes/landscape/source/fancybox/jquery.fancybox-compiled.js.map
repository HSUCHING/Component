{"version":3,"sources":["jquery.fancybox.js"],"names":[],"mappings":"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","file":"jquery.fancybox-compiled.js","sourcesContent":["/*!\n * fancyBox - jQuery Plugin\n * version: 2.1.5 (Fri, 14 Jun 2013)\n * requires jQuery v1.6 or later\n *\n * Examples at http://fancyapps.com/fancybox/\n * License: www.fancyapps.com/fancybox/#license\n *\n * Copyright 2012 Janis Skarnelis - janis@fancyapps.com\n *\n */\n\n;(function (window, document, $, undefined) {\n\t\"use strict\";\n\n\tvar H = $(\"html\"),\n\t\tW = $(window),\n\t\tD = $(document),\n\t\tF = $.fancybox = function () {\n\t\t\tF.open.apply( this, arguments );\n\t\t},\n\t\tIE =  navigator.userAgent.match(/msie/i),\n\t\tdidUpdate\t= null,\n\t\tisTouch\t\t= document.createTouch !== undefined,\n\n\t\tisQuery\t= function(obj) {\n\t\t\treturn obj && obj.hasOwnProperty && obj instanceof $;\n\t\t},\n\t\tisString = function(str) {\n\t\t\treturn str && $.type(str) === \"string\";\n\t\t},\n\t\tisPercentage = function(str) {\n\t\t\treturn isString(str) && str.indexOf('%') > 0;\n\t\t},\n\t\tisScrollable = function(el) {\n\t\t\treturn (el && !(el.style.overflow && el.style.overflow === 'hidden') && ((el.clientWidth && el.scrollWidth > el.clientWidth) || (el.clientHeight && el.scrollHeight > el.clientHeight)));\n\t\t},\n\t\tgetScalar = function(orig, dim) {\n\t\t\tvar value = parseInt(orig, 10) || 0;\n\n\t\t\tif (dim && isPercentage(orig)) {\n\t\t\t\tvalue = F.getViewport()[ dim ] / 100 * value;\n\t\t\t}\n\n\t\t\treturn Math.ceil(value);\n\t\t},\n\t\tgetValue = function(value, dim) {\n\t\t\treturn getScalar(value, dim) + 'px';\n\t\t};\n\n\t$.extend(F, {\n\t\t// The current version of fancyBox\n\t\tversion: '2.1.5',\n\n\t\tdefaults: {\n\t\t\tpadding : 15,\n\t\t\tmargin  : 20,\n\n\t\t\twidth     : 800,\n\t\t\theight    : 600,\n\t\t\tminWidth  : 100,\n\t\t\tminHeight : 100,\n\t\t\tmaxWidth  : 9999,\n\t\t\tmaxHeight : 9999,\n\t\t\tpixelRatio: 1, // Set to 2 for retina display support\n\n\t\t\tautoSize   : true,\n\t\t\tautoHeight : false,\n\t\t\tautoWidth  : false,\n\n\t\t\tautoResize  : true,\n\t\t\tautoCenter  : !isTouch,\n\t\t\tfitToView   : true,\n\t\t\taspectRatio : false,\n\t\t\ttopRatio    : 0.5,\n\t\t\tleftRatio   : 0.5,\n\n\t\t\tscrolling : 'auto', // 'auto', 'yes' or 'no'\n\t\t\twrapCSS   : '',\n\n\t\t\tarrows     : true,\n\t\t\tcloseBtn   : true,\n\t\t\tcloseClick : false,\n\t\t\tnextClick  : false,\n\t\t\tmouseWheel : true,\n\t\t\tautoPlay   : false,\n\t\t\tplaySpeed  : 3000,\n\t\t\tpreload    : 3,\n\t\t\tmodal      : false,\n\t\t\tloop       : true,\n\n\t\t\tajax  : {\n\t\t\t\tdataType : 'html',\n\t\t\t\theaders  : { 'X-fancyBox': true }\n\t\t\t},\n\t\t\tiframe : {\n\t\t\t\tscrolling : 'auto',\n\t\t\t\tpreload   : true\n\t\t\t},\n\t\t\tswf : {\n\t\t\t\twmode: 'transparent',\n\t\t\t\tallowfullscreen   : 'true',\n\t\t\t\tallowscriptaccess : 'always'\n\t\t\t},\n\n\t\t\tkeys  : {\n\t\t\t\tnext : {\n\t\t\t\t\t13 : 'left', // enter\n\t\t\t\t\t34 : 'up',   // page down\n\t\t\t\t\t39 : 'left', // right arrow\n\t\t\t\t\t40 : 'up'    // down arrow\n\t\t\t\t},\n\t\t\t\tprev : {\n\t\t\t\t\t8  : 'right',  // backspace\n\t\t\t\t\t33 : 'down',   // page up\n\t\t\t\t\t37 : 'right',  // left arrow\n\t\t\t\t\t38 : 'down'    // up arrow\n\t\t\t\t},\n\t\t\t\tclose  : [27], // escape key\n\t\t\t\tplay   : [32], // space - start/stop slideshow\n\t\t\t\ttoggle : [70]  // letter \"f\" - toggle fullscreen\n\t\t\t},\n\n\t\t\tdirection : {\n\t\t\t\tnext : 'left',\n\t\t\t\tprev : 'right'\n\t\t\t},\n\n\t\t\tscrollOutside  : true,\n\n\t\t\t// Override some properties\n\t\t\tindex   : 0,\n\t\t\ttype    : null,\n\t\t\thref    : null,\n\t\t\tcontent : null,\n\t\t\ttitle   : null,\n\n\t\t\t// HTML templates\n\t\t\ttpl: {\n\t\t\t\twrap     : '<div class=\"fancybox-wrap\" tabIndex=\"-1\"><div class=\"fancybox-skin\"><div class=\"fancybox-outer\"><div class=\"fancybox-inner\"></div></div></div></div>',\n\t\t\t\timage    : '<img class=\"fancybox-image\" src=\"{href}\" alt=\"\" />',\n\t\t\t\tiframe   : '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen' + (IE ? ' allowtransparency=\"true\"' : '') + '></iframe>',\n\t\t\t\terror    : '<p class=\"fancybox-error\">The requested content cannot be loaded.<br/>Please try again later.</p>',\n\t\t\t\tcloseBtn : '<a title=\"Close\" class=\"fancybox-item fancybox-close\" href=\"javascript:;\"></a>',\n\t\t\t\tnext     : '<a title=\"Next\" class=\"fancybox-nav fancybox-next\" href=\"javascript:;\"><span></span></a>',\n\t\t\t\tprev     : '<a title=\"Previous\" class=\"fancybox-nav fancybox-prev\" href=\"javascript:;\"><span></span></a>'\n\t\t\t},\n\n\t\t\t// Properties for each animation type\n\t\t\t// Opening fancyBox\n\t\t\topenEffect  : 'fade', // 'elastic', 'fade' or 'none'\n\t\t\topenSpeed   : 250,\n\t\t\topenEasing  : 'swing',\n\t\t\topenOpacity : true,\n\t\t\topenMethod  : 'zoomIn',\n\n\t\t\t// Closing fancyBox\n\t\t\tcloseEffect  : 'fade', // 'elastic', 'fade' or 'none'\n\t\t\tcloseSpeed   : 250,\n\t\t\tcloseEasing  : 'swing',\n\t\t\tcloseOpacity : true,\n\t\t\tcloseMethod  : 'zoomOut',\n\n\t\t\t// Changing next gallery item\n\t\t\tnextEffect : 'elastic', // 'elastic', 'fade' or 'none'\n\t\t\tnextSpeed  : 250,\n\t\t\tnextEasing : 'swing',\n\t\t\tnextMethod : 'changeIn',\n\n\t\t\t// Changing previous gallery item\n\t\t\tprevEffect : 'elastic', // 'elastic', 'fade' or 'none'\n\t\t\tprevSpeed  : 250,\n\t\t\tprevEasing : 'swing',\n\t\t\tprevMethod : 'changeOut',\n\n\t\t\t// Enable default helpers\n\t\t\thelpers : {\n\t\t\t\toverlay : true,\n\t\t\t\ttitle   : true\n\t\t\t},\n\n\t\t\t// Callbacks\n\t\t\tonCancel     : $.noop, // If canceling\n\t\t\tbeforeLoad   : $.noop, // Before loading\n\t\t\tafterLoad    : $.noop, // After loading\n\t\t\tbeforeShow   : $.noop, // Before changing in current item\n\t\t\tafterShow    : $.noop, // After opening\n\t\t\tbeforeChange : $.noop, // Before changing gallery item\n\t\t\tbeforeClose  : $.noop, // Before closing\n\t\t\tafterClose   : $.noop  // After closing\n\t\t},\n\n\t\t//Current state\n\t\tgroup    : {}, // Selected group\n\t\topts     : {}, // Group options\n\t\tprevious : null,  // Previous element\n\t\tcoming   : null,  // Element being loaded\n\t\tcurrent  : null,  // Currently loaded element\n\t\tisActive : false, // Is activated\n\t\tisOpen   : false, // Is currently open\n\t\tisOpened : false, // Have been fully opened at least once\n\n\t\twrap  : null,\n\t\tskin  : null,\n\t\touter : null,\n\t\tinner : null,\n\n\t\tplayer : {\n\t\t\ttimer    : null,\n\t\t\tisActive : false\n\t\t},\n\n\t\t// Loaders\n\t\tajaxLoad   : null,\n\t\timgPreload : null,\n\n\t\t// Some collections\n\t\ttransitions : {},\n\t\thelpers     : {},\n\n\t\t/*\n\t\t *\tStatic methods\n\t\t */\n\n\t\topen: function (group, opts) {\n\t\t\tif (!group) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!$.isPlainObject(opts)) {\n\t\t\t\topts = {};\n\t\t\t}\n\n\t\t\t// Close if already active\n\t\t\tif (false === F.close(true)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Normalize group\n\t\t\tif (!$.isArray(group)) {\n\t\t\t\tgroup = isQuery(group) ? $(group).get() : [group];\n\t\t\t}\n\n\t\t\t// Recheck if the type of each element is `object` and set content type (image, ajax, etc)\n\t\t\t$.each(group, function(i, element) {\n\t\t\t\tvar obj = {},\n\t\t\t\t\thref,\n\t\t\t\t\ttitle,\n\t\t\t\t\tcontent,\n\t\t\t\t\ttype,\n\t\t\t\t\trez,\n\t\t\t\t\threfParts,\n\t\t\t\t\tselector;\n\n\t\t\t\tif ($.type(element) === \"object\") {\n\t\t\t\t\t// Check if is DOM element\n\t\t\t\t\tif (element.nodeType) {\n\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isQuery(element)) {\n\t\t\t\t\t\tobj = {\n\t\t\t\t\t\t\thref    : element.data('fancybox-href') || element.attr('href'),\n\t\t\t\t\t\t\ttitle   : $('<div/>').text( element.data('fancybox-title') || element.attr('title') ).html(),\n\t\t\t\t\t\t\tisDom   : true,\n\t\t\t\t\t\t\telement : element\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif ($.metadata) {\n\t\t\t\t\t\t\t$.extend(true, obj, element.metadata());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tobj = element;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\thref  = opts.href  || obj.href || (isString(element) ? element : null);\n\t\t\t\ttitle = opts.title !== undefined ? opts.title : obj.title || '';\n\n\t\t\t\tcontent = opts.content || obj.content;\n\t\t\t\ttype    = content ? 'html' : (opts.type  || obj.type);\n\n\t\t\t\tif (!type && obj.isDom) {\n\t\t\t\t\ttype = element.data('fancybox-type');\n\n\t\t\t\t\tif (!type) {\n\t\t\t\t\t\trez  = element.prop('class').match(/fancybox\\.(\\w+)/);\n\t\t\t\t\t\ttype = rez ? rez[1] : null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (isString(href)) {\n\t\t\t\t\t// Try to guess the content type\n\t\t\t\t\tif (!type) {\n\t\t\t\t\t\tif (F.isImage(href)) {\n\t\t\t\t\t\t\ttype = 'image';\n\n\t\t\t\t\t\t} else if (F.isSWF(href)) {\n\t\t\t\t\t\t\ttype = 'swf';\n\n\t\t\t\t\t\t} else if (href.charAt(0) === '#') {\n\t\t\t\t\t\t\ttype = 'inline';\n\n\t\t\t\t\t\t} else if (isString(element)) {\n\t\t\t\t\t\t\ttype    = 'html';\n\t\t\t\t\t\t\tcontent = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Split url into two pieces with source url and content selector, e.g,\n\t\t\t\t\t// \"/mypage.html #my_id\" will load \"/mypage.html\" and display element having id \"my_id\"\n\t\t\t\t\tif (type === 'ajax') {\n\t\t\t\t\t\threfParts = href.split(/\\s+/, 2);\n\t\t\t\t\t\thref      = hrefParts.shift();\n\t\t\t\t\t\tselector  = hrefParts.shift();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!content) {\n\t\t\t\t\tif (type === 'inline') {\n\t\t\t\t\t\tif (href) {\n\t\t\t\t\t\t\tcontent = $( isString(href) ? href.replace(/.*(?=#[^\\s]+$)/, '') : href ); //strip for ie7\n\n\t\t\t\t\t\t} else if (obj.isDom) {\n\t\t\t\t\t\t\tcontent = element;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if (type === 'html') {\n\t\t\t\t\t\tcontent = href;\n\n\t\t\t\t\t} else if (!type && !href && obj.isDom) {\n\t\t\t\t\t\ttype    = 'inline';\n\t\t\t\t\t\tcontent = element;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$.extend(obj, {\n\t\t\t\t\thref     : href,\n\t\t\t\t\ttype     : type,\n\t\t\t\t\tcontent  : content,\n\t\t\t\t\ttitle    : title,\n\t\t\t\t\tselector : selector\n\t\t\t\t});\n\n\t\t\t\tgroup[ i ] = obj;\n\t\t\t});\n\n\t\t\t// Extend the defaults\n\t\t\tF.opts = $.extend(true, {}, F.defaults, opts);\n\n\t\t\t// All options are merged recursive except keys\n\t\t\tif (opts.keys !== undefined) {\n\t\t\t\tF.opts.keys = opts.keys ? $.extend({}, F.defaults.keys, opts.keys) : false;\n\t\t\t}\n\n\t\t\tF.group = group;\n\n\t\t\treturn F._start(F.opts.index);\n\t\t},\n\n\t\t// Cancel image loading or abort ajax request\n\t\tcancel: function () {\n\t\t\tvar coming = F.coming;\n\n\t\t\tif (coming && false === F.trigger('onCancel')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tF.hideLoading();\n\n\t\t\tif (!coming) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (F.ajaxLoad) {\n\t\t\t\tF.ajaxLoad.abort();\n\t\t\t}\n\n\t\t\tF.ajaxLoad = null;\n\n\t\t\tif (F.imgPreload) {\n\t\t\t\tF.imgPreload.onload = F.imgPreload.onerror = null;\n\t\t\t}\n\n\t\t\tif (coming.wrap) {\n\t\t\t\tcoming.wrap.stop(true, true).trigger('onReset').remove();\n\t\t\t}\n\n\t\t\tF.coming = null;\n\n\t\t\t// If the first item has been canceled, then clear everything\n\t\t\tif (!F.current) {\n\t\t\t\tF._afterZoomOut( coming );\n\t\t\t}\n\t\t},\n\n\t\t// Start closing animation if is open; remove immediately if opening/closing\n\t\tclose: function (event) {\n\t\t\tF.cancel();\n\n\t\t\tif (false === F.trigger('beforeClose')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tF.unbindEvents();\n\n\t\t\tif (!F.isActive) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!F.isOpen || event === true) {\n\t\t\t\t$('.fancybox-wrap').stop(true).trigger('onReset').remove();\n\n\t\t\t\tF._afterZoomOut();\n\n\t\t\t} else {\n\t\t\t\tF.isOpen = F.isOpened = false;\n\t\t\t\tF.isClosing = true;\n\n\t\t\t\t$('.fancybox-item, .fancybox-nav').remove();\n\n\t\t\t\tF.wrap.stop(true, true).removeClass('fancybox-opened');\n\n\t\t\t\tF.transitions[ F.current.closeMethod ]();\n\t\t\t}\n\t\t},\n\n\t\t// Manage slideshow:\n\t\t//   $.fancybox.play(); - toggle slideshow\n\t\t//   $.fancybox.play( true ); - start\n\t\t//   $.fancybox.play( false ); - stop\n\t\tplay: function ( action ) {\n\t\t\tvar clear = function () {\n\t\t\t\t\tclearTimeout(F.player.timer);\n\t\t\t\t},\n\t\t\t\tset = function () {\n\t\t\t\t\tclear();\n\n\t\t\t\t\tif (F.current && F.player.isActive) {\n\t\t\t\t\t\tF.player.timer = setTimeout(F.next, F.current.playSpeed);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tstop = function () {\n\t\t\t\t\tclear();\n\n\t\t\t\t\tD.unbind('.player');\n\n\t\t\t\t\tF.player.isActive = false;\n\n\t\t\t\t\tF.trigger('onPlayEnd');\n\t\t\t\t},\n\t\t\t\tstart = function () {\n\t\t\t\t\tif (F.current && (F.current.loop || F.current.index < F.group.length - 1)) {\n\t\t\t\t\t\tF.player.isActive = true;\n\n\t\t\t\t\t\tD.bind({\n\t\t\t\t\t\t\t'onCancel.player beforeClose.player' : stop,\n\t\t\t\t\t\t\t'onUpdate.player'   : set,\n\t\t\t\t\t\t\t'beforeLoad.player' : clear\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tset();\n\n\t\t\t\t\t\tF.trigger('onPlayStart');\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\tif (action === true || (!F.player.isActive && action !== false)) {\n\t\t\t\tstart();\n\t\t\t} else {\n\t\t\t\tstop();\n\t\t\t}\n\t\t},\n\n\t\t// Navigate to next gallery item\n\t\tnext: function ( direction ) {\n\t\t\tvar current = F.current;\n\n\t\t\tif (current) {\n\t\t\t\tif (!isString(direction)) {\n\t\t\t\t\tdirection = current.direction.next;\n\t\t\t\t}\n\n\t\t\t\tF.jumpto(current.index + 1, direction, 'next');\n\t\t\t}\n\t\t},\n\n\t\t// Navigate to previous gallery item\n\t\tprev: function ( direction ) {\n\t\t\tvar current = F.current;\n\n\t\t\tif (current) {\n\t\t\t\tif (!isString(direction)) {\n\t\t\t\t\tdirection = current.direction.prev;\n\t\t\t\t}\n\n\t\t\t\tF.jumpto(current.index - 1, direction, 'prev');\n\t\t\t}\n\t\t},\n\n\t\t// Navigate to gallery item by index\n\t\tjumpto: function ( index, direction, router ) {\n\t\t\tvar current = F.current;\n\n\t\t\tif (!current) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tindex = getScalar(index);\n\n\t\t\tF.direction = direction || current.direction[ (index >= current.index ? 'next' : 'prev') ];\n\t\t\tF.router    = router || 'jumpto';\n\n\t\t\tif (current.loop) {\n\t\t\t\tif (index < 0) {\n\t\t\t\t\tindex = current.group.length + (index % current.group.length);\n\t\t\t\t}\n\n\t\t\t\tindex = index % current.group.length;\n\t\t\t}\n\n\t\t\tif (current.group[ index ] !== undefined) {\n\t\t\t\tF.cancel();\n\n\t\t\t\tF._start(index);\n\t\t\t}\n\t\t},\n\n\t\t// Center inside viewport and toggle position type to fixed or absolute if needed\n\t\treposition: function (e, onlyAbsolute) {\n\t\t\tvar current = F.current,\n\t\t\t\twrap    = current ? current.wrap : null,\n\t\t\t\tpos;\n\n\t\t\tif (wrap) {\n\t\t\t\tpos = F._getPosition(onlyAbsolute);\n\n\t\t\t\tif (e && e.type === 'scroll') {\n\t\t\t\t\tdelete pos.position;\n\n\t\t\t\t\twrap.stop(true, true).animate(pos, 200);\n\n\t\t\t\t} else {\n\t\t\t\t\twrap.css(pos);\n\n\t\t\t\t\tcurrent.pos = $.extend({}, current.dim, pos);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdate: function (e) {\n\t\t\tvar type = (e && e.originalEvent && e.originalEvent.type),\n\t\t\t\tanyway = !type || type === 'orientationchange';\n\n\t\t\tif (anyway) {\n\t\t\t\tclearTimeout(didUpdate);\n\n\t\t\t\tdidUpdate = null;\n\t\t\t}\n\n\t\t\tif (!F.isOpen || didUpdate) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdidUpdate = setTimeout(function() {\n\t\t\t\tvar current = F.current;\n\n\t\t\t\tif (!current || F.isClosing) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tF.wrap.removeClass('fancybox-tmp');\n\n\t\t\t\tif (anyway || type === 'load' || (type === 'resize' && current.autoResize)) {\n\t\t\t\t\tF._setDimension();\n\t\t\t\t}\n\n\t\t\t\tif (!(type === 'scroll' && current.canShrink)) {\n\t\t\t\t\tF.reposition(e);\n\t\t\t\t}\n\n\t\t\t\tF.trigger('onUpdate');\n\n\t\t\t\tdidUpdate = null;\n\n\t\t\t}, (anyway && !isTouch ? 0 : 300));\n\t\t},\n\n\t\t// Shrink content to fit inside viewport or restore if resized\n\t\ttoggle: function ( action ) {\n\t\t\tif (F.isOpen) {\n\t\t\t\tF.current.fitToView = $.type(action) === \"boolean\" ? action : !F.current.fitToView;\n\n\t\t\t\t// Help browser to restore document dimensions\n\t\t\t\tif (isTouch) {\n\t\t\t\t\tF.wrap.removeAttr('style').addClass('fancybox-tmp');\n\n\t\t\t\t\tF.trigger('onUpdate');\n\t\t\t\t}\n\n\t\t\t\tF.update();\n\t\t\t}\n\t\t},\n\n\t\thideLoading: function () {\n\t\t\tD.unbind('.loading');\n\n\t\t\t$('#fancybox-loading').remove();\n\t\t},\n\n\t\tshowLoading: function () {\n\t\t\tvar el, viewport;\n\n\t\t\tF.hideLoading();\n\n\t\t\tel = $('<div id=\"fancybox-loading\"><div></div></div>').click(F.cancel).appendTo('body');\n\n\t\t\t// If user will press the escape-button, the request will be canceled\n\t\t\tD.bind('keydown.loading', function(e) {\n\t\t\t\tif ((e.which || e.keyCode) === 27) {\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tF.cancel();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!F.defaults.fixed) {\n\t\t\t\tviewport = F.getViewport();\n\n\t\t\t\tel.css({\n\t\t\t\t\tposition : 'absolute',\n\t\t\t\t\ttop  : (viewport.h * 0.5) + viewport.y,\n\t\t\t\t\tleft : (viewport.w * 0.5) + viewport.x\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tF.trigger('onLoading');\n\t\t},\n\n\t\tgetViewport: function () {\n\t\t\tvar locked = (F.current && F.current.locked) || false,\n\t\t\t\trez    = {\n\t\t\t\t\tx: W.scrollLeft(),\n\t\t\t\t\ty: W.scrollTop()\n\t\t\t\t};\n\n\t\t\tif (locked && locked.length) {\n\t\t\t\trez.w = locked[0].clientWidth;\n\t\t\t\trez.h = locked[0].clientHeight;\n\n\t\t\t} else {\n\t\t\t\t// See http://bugs.jquery.com/ticket/6724\n\t\t\t\trez.w = isTouch && window.innerWidth  ? window.innerWidth  : W.width();\n\t\t\t\trez.h = isTouch && window.innerHeight ? window.innerHeight : W.height();\n\t\t\t}\n\n\t\t\treturn rez;\n\t\t},\n\n\t\t// Unbind the keyboard / clicking actions\n\t\tunbindEvents: function () {\n\t\t\tif (F.wrap && isQuery(F.wrap)) {\n\t\t\t\tF.wrap.unbind('.fb');\n\t\t\t}\n\n\t\t\tD.unbind('.fb');\n\t\t\tW.unbind('.fb');\n\t\t},\n\n\t\tbindEvents: function () {\n\t\t\tvar current = F.current,\n\t\t\t\tkeys;\n\n\t\t\tif (!current) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Changing document height on iOS devices triggers a 'resize' event,\n\t\t\t// that can change document height... repeating infinitely\n\t\t\tW.bind('orientationchange.fb' + (isTouch ? '' : ' resize.fb') + (current.autoCenter && !current.locked ? ' scroll.fb' : ''), F.update);\n\n\t\t\tkeys = current.keys;\n\n\t\t\tif (keys) {\n\t\t\t\tD.bind('keydown.fb', function (e) {\n\t\t\t\t\tvar code   = e.which || e.keyCode,\n\t\t\t\t\t\ttarget = e.target || e.srcElement;\n\n\t\t\t\t\t// Skip esc key if loading, because showLoading will cancel preloading\n\t\t\t\t\tif (code === 27 && F.coming) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Ignore key combinations and key events within form elements\n\t\t\t\t\tif (!e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey && !(target && (target.type || $(target).is('[contenteditable]')))) {\n\t\t\t\t\t\t$.each(keys, function(i, val) {\n\t\t\t\t\t\t\tif (current.group.length > 1 && val[ code ] !== undefined) {\n\t\t\t\t\t\t\t\tF[ i ]( val[ code ] );\n\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ($.inArray(code, val) > -1) {\n\t\t\t\t\t\t\t\tF[ i ] ();\n\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ($.fn.mousewheel && current.mouseWheel) {\n\t\t\t\tF.wrap.bind('mousewheel.fb', function (e, delta, deltaX, deltaY) {\n\t\t\t\t\tvar target = e.target || null,\n\t\t\t\t\t\tparent = $(target),\n\t\t\t\t\t\tcanScroll = false;\n\n\t\t\t\t\twhile (parent.length) {\n\t\t\t\t\t\tif (canScroll || parent.is('.fancybox-skin') || parent.is('.fancybox-wrap')) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcanScroll = isScrollable( parent[0] );\n\t\t\t\t\t\tparent    = $(parent).parent();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (delta !== 0 && !canScroll) {\n\t\t\t\t\t\tif (F.group.length > 1 && !current.canShrink) {\n\t\t\t\t\t\t\tif (deltaY > 0 || deltaX > 0) {\n\t\t\t\t\t\t\t\tF.prev( deltaY > 0 ? 'down' : 'left' );\n\n\t\t\t\t\t\t\t} else if (deltaY < 0 || deltaX < 0) {\n\t\t\t\t\t\t\t\tF.next( deltaY < 0 ? 'up' : 'right' );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\ttrigger: function (event, o) {\n\t\t\tvar ret, obj = o || F.coming || F.current;\n\n\t\t\tif (obj) {\n\t\t\t\tif ($.isFunction( obj[event] )) {\n\t\t\t\t\tret = obj[event].apply(obj, Array.prototype.slice.call(arguments, 1));\n\t\t\t\t}\n\n\t\t\t\tif (ret === false) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (obj.helpers) {\n\t\t\t\t\t$.each(obj.helpers, function (helper, opts) {\n\t\t\t\t\t\tif (opts && F.helpers[helper] && $.isFunction(F.helpers[helper][event])) {\n\t\t\t\t\t\t\tF.helpers[helper][event]($.extend(true, {}, F.helpers[helper].defaults, opts), obj);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tD.trigger(event);\n\t\t},\n\n\t\tisImage: function (str) {\n\t\t\treturn isString(str) && str.match(/(^data:image\\/.*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\\?|#).*)?$)/i);\n\t\t},\n\n\t\tisSWF: function (str) {\n\t\t\treturn isString(str) && str.match(/\\.(swf)((\\?|#).*)?$/i);\n\t\t},\n\n\t\t_start: function (index) {\n\t\t\tvar coming = {},\n\t\t\t\tobj,\n\t\t\t\thref,\n\t\t\t\ttype,\n\t\t\t\tmargin,\n\t\t\t\tpadding;\n\n\t\t\tindex = getScalar( index );\n\t\t\tobj   = F.group[ index ] || null;\n\n\t\t\tif (!obj) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tcoming = $.extend(true, {}, F.opts, obj);\n\n\t\t\t// Convert margin and padding properties to array - top, right, bottom, left\n\t\t\tmargin  = coming.margin;\n\t\t\tpadding = coming.padding;\n\n\t\t\tif ($.type(margin) === 'number') {\n\t\t\t\tcoming.margin = [margin, margin, margin, margin];\n\t\t\t}\n\n\t\t\tif ($.type(padding) === 'number') {\n\t\t\t\tcoming.padding = [padding, padding, padding, padding];\n\t\t\t}\n\n\t\t\t// 'modal' propery is just a shortcut\n\t\t\tif (coming.modal) {\n\t\t\t\t$.extend(true, coming, {\n\t\t\t\t\tcloseBtn   : false,\n\t\t\t\t\tcloseClick : false,\n\t\t\t\t\tnextClick  : false,\n\t\t\t\t\tarrows     : false,\n\t\t\t\t\tmouseWheel : false,\n\t\t\t\t\tkeys       : null,\n\t\t\t\t\thelpers: {\n\t\t\t\t\t\toverlay : {\n\t\t\t\t\t\t\tcloseClick : false\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// 'autoSize' property is a shortcut, too\n\t\t\tif (coming.autoSize) {\n\t\t\t\tcoming.autoWidth = coming.autoHeight = true;\n\t\t\t}\n\n\t\t\tif (coming.width === 'auto') {\n\t\t\t\tcoming.autoWidth = true;\n\t\t\t}\n\n\t\t\tif (coming.height === 'auto') {\n\t\t\t\tcoming.autoHeight = true;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Add reference to the group, so it`s possible to access from callbacks, example:\n\t\t\t * afterLoad : function() {\n\t\t\t *     this.title = 'Image ' + (this.index + 1) + ' of ' + this.group.length + (this.title ? ' - ' + this.title : '');\n\t\t\t * }\n\t\t\t */\n\n\t\t\tcoming.group  = F.group;\n\t\t\tcoming.index  = index;\n\n\t\t\t// Give a chance for callback or helpers to update coming item (type, title, etc)\n\t\t\tF.coming = coming;\n\n\t\t\tif (false === F.trigger('beforeLoad')) {\n\t\t\t\tF.coming = null;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttype = coming.type;\n\t\t\thref = coming.href;\n\n\t\t\tif (!type) {\n\t\t\t\tF.coming = null;\n\n\t\t\t\t//If we can not determine content type then drop silently or display next/prev item if looping through gallery\n\t\t\t\tif (F.current && F.router && F.router !== 'jumpto') {\n\t\t\t\t\tF.current.index = index;\n\n\t\t\t\t\treturn F[ F.router ]( F.direction );\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tF.isActive = true;\n\n\t\t\tif (type === 'image' || type === 'swf') {\n\t\t\t\tcoming.autoHeight = coming.autoWidth = false;\n\t\t\t\tcoming.scrolling  = 'visible';\n\t\t\t}\n\n\t\t\tif (type === 'image') {\n\t\t\t\tcoming.aspectRatio = true;\n\t\t\t}\n\n\t\t\tif (type === 'iframe' && isTouch) {\n\t\t\t\tcoming.scrolling = 'scroll';\n\t\t\t}\n\n\t\t\t// Build the neccessary markup\n\t\t\tcoming.wrap = $(coming.tpl.wrap).addClass('fancybox-' + (isTouch ? 'mobile' : 'desktop') + ' fancybox-type-' + type + ' fancybox-tmp ' + coming.wrapCSS).appendTo( coming.parent || 'body' );\n\n\t\t\t$.extend(coming, {\n\t\t\t\tskin  : $('.fancybox-skin',  coming.wrap),\n\t\t\t\touter : $('.fancybox-outer', coming.wrap),\n\t\t\t\tinner : $('.fancybox-inner', coming.wrap)\n\t\t\t});\n\n\t\t\t$.each([\"Top\", \"Right\", \"Bottom\", \"Left\"], function(i, v) {\n\t\t\t\tcoming.skin.css('padding' + v, getValue(coming.padding[ i ]));\n\t\t\t});\n\n\t\t\tF.trigger('onReady');\n\n\t\t\t// Check before try to load; 'inline' and 'html' types need content, others - href\n\t\t\tif (type === 'inline' || type === 'html') {\n\t\t\t\tif (!coming.content || !coming.content.length) {\n\t\t\t\t\treturn F._error( 'content' );\n\t\t\t\t}\n\n\t\t\t} else if (!href) {\n\t\t\t\treturn F._error( 'href' );\n\t\t\t}\n\n\t\t\tif (type === 'image') {\n\t\t\t\tF._loadImage();\n\n\t\t\t} else if (type === 'ajax') {\n\t\t\t\tF._loadAjax();\n\n\t\t\t} else if (type === 'iframe') {\n\t\t\t\tF._loadIframe();\n\n\t\t\t} else {\n\t\t\t\tF._afterLoad();\n\t\t\t}\n\t\t},\n\n\t\t_error: function ( type ) {\n\t\t\t$.extend(F.coming, {\n\t\t\t\ttype       : 'html',\n\t\t\t\tautoWidth  : true,\n\t\t\t\tautoHeight : true,\n\t\t\t\tminWidth   : 0,\n\t\t\t\tminHeight  : 0,\n\t\t\t\tscrolling  : 'no',\n\t\t\t\thasError   : type,\n\t\t\t\tcontent    : F.coming.tpl.error\n\t\t\t});\n\n\t\t\tF._afterLoad();\n\t\t},\n\n\t\t_loadImage: function () {\n\t\t\t// Reset preload image so it is later possible to check \"complete\" property\n\t\t\tvar img = F.imgPreload = new Image();\n\n\t\t\timg.onload = function () {\n\t\t\t\tthis.onload = this.onerror = null;\n\n\t\t\t\tF.coming.width  = this.width / F.opts.pixelRatio;\n\t\t\t\tF.coming.height = this.height / F.opts.pixelRatio;\n\n\t\t\t\tF._afterLoad();\n\t\t\t};\n\n\t\t\timg.onerror = function () {\n\t\t\t\tthis.onload = this.onerror = null;\n\n\t\t\t\tF._error( 'image' );\n\t\t\t};\n\n\t\t\timg.src = F.coming.href;\n\n\t\t\tif (img.complete !== true) {\n\t\t\t\tF.showLoading();\n\t\t\t}\n\t\t},\n\n\t\t_loadAjax: function () {\n\t\t\tvar coming = F.coming;\n\n\t\t\tF.showLoading();\n\n\t\t\tF.ajaxLoad = $.ajax($.extend({}, coming.ajax, {\n\t\t\t\turl: coming.href,\n\t\t\t\terror: function (jqXHR, textStatus) {\n\t\t\t\t\tif (F.coming && textStatus !== 'abort') {\n\t\t\t\t\t\tF._error( 'ajax', jqXHR );\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tF.hideLoading();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsuccess: function (data, textStatus) {\n\t\t\t\t\tif (textStatus === 'success') {\n\t\t\t\t\t\tcoming.content = data;\n\n\t\t\t\t\t\tF._afterLoad();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\t\t},\n\n\t\t_loadIframe: function() {\n\t\t\tvar coming = F.coming,\n\t\t\t\tiframe = $(coming.tpl.iframe.replace(/\\{rnd\\}/g, new Date().getTime()))\n\t\t\t\t\t.attr('scrolling', isTouch ? 'auto' : coming.iframe.scrolling)\n\t\t\t\t\t.attr('src', coming.href);\n\n\t\t\t// This helps IE\n\t\t\t$(coming.wrap).bind('onReset', function () {\n\t\t\t\ttry {\n\t\t\t\t\t$(this).find('iframe').hide().attr('src', '//about:blank').end().empty();\n\t\t\t\t} catch (e) {}\n\t\t\t});\n\n\t\t\tif (coming.iframe.preload) {\n\t\t\t\tF.showLoading();\n\n\t\t\t\tiframe.one('load', function() {\n\t\t\t\t\t$(this).data('ready', 1);\n\n\t\t\t\t\t// iOS will lose scrolling if we resize\n\t\t\t\t\tif (!isTouch) {\n\t\t\t\t\t\t$(this).bind('load.fb', F.update);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Without this trick:\n\t\t\t\t\t//   - iframe won't scroll on iOS devices\n\t\t\t\t\t//   - IE7 sometimes displays empty iframe\n\t\t\t\t\t$(this).parents('.fancybox-wrap').width('100%').removeClass('fancybox-tmp').show();\n\n\t\t\t\t\tF._afterLoad();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tcoming.content = iframe.appendTo( coming.inner );\n\n\t\t\tif (!coming.iframe.preload) {\n\t\t\t\tF._afterLoad();\n\t\t\t}\n\t\t},\n\n\t\t_preloadImages: function() {\n\t\t\tvar group   = F.group,\n\t\t\t\tcurrent = F.current,\n\t\t\t\tlen     = group.length,\n\t\t\t\tcnt     = current.preload ? Math.min(current.preload, len - 1) : 0,\n\t\t\t\titem,\n\t\t\t\ti;\n\n\t\t\tfor (i = 1; i <= cnt; i += 1) {\n\t\t\t\titem = group[ (current.index + i ) % len ];\n\n\t\t\t\tif (item.type === 'image' && item.href) {\n\t\t\t\t\tnew Image().src = item.href;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_afterLoad: function () {\n\t\t\tvar coming   = F.coming,\n\t\t\t\tprevious = F.current,\n\t\t\t\tplaceholder = 'fancybox-placeholder',\n\t\t\t\tcurrent,\n\t\t\t\tcontent,\n\t\t\t\ttype,\n\t\t\t\tscrolling,\n\t\t\t\thref,\n\t\t\t\tembed;\n\n\t\t\tF.hideLoading();\n\n\t\t\tif (!coming || F.isActive === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (false === F.trigger('afterLoad', coming, previous)) {\n\t\t\t\tcoming.wrap.stop(true).trigger('onReset').remove();\n\n\t\t\t\tF.coming = null;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (previous) {\n\t\t\t\tF.trigger('beforeChange', previous);\n\n\t\t\t\tprevious.wrap.stop(true).removeClass('fancybox-opened')\n\t\t\t\t\t.find('.fancybox-item, .fancybox-nav')\n\t\t\t\t\t.remove();\n\t\t\t}\n\n\t\t\tF.unbindEvents();\n\n\t\t\tcurrent   = coming;\n\t\t\tcontent   = coming.content;\n\t\t\ttype      = coming.type;\n\t\t\tscrolling = coming.scrolling;\n\n\t\t\t$.extend(F, {\n\t\t\t\twrap  : current.wrap,\n\t\t\t\tskin  : current.skin,\n\t\t\t\touter : current.outer,\n\t\t\t\tinner : current.inner,\n\t\t\t\tcurrent  : current,\n\t\t\t\tprevious : previous\n\t\t\t});\n\n\t\t\thref = current.href;\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'inline':\n\t\t\t\tcase 'ajax':\n\t\t\t\tcase 'html':\n\t\t\t\t\tif (current.selector) {\n\t\t\t\t\t\tcontent = $('<div>').html(content).find(current.selector);\n\n\t\t\t\t\t} else if (isQuery(content)) {\n\t\t\t\t\t\tif (!content.data(placeholder)) {\n\t\t\t\t\t\t\tcontent.data(placeholder, $('<div class=\"' + placeholder + '\"></div>').insertAfter( content ).hide() );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontent = content.show().detach();\n\n\t\t\t\t\t\tcurrent.wrap.bind('onReset', function () {\n\t\t\t\t\t\t\tif ($(this).find(content).length) {\n\t\t\t\t\t\t\t\tcontent.hide().replaceAll( content.data(placeholder) ).data(placeholder, false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t\tcase 'image':\n\t\t\t\t\tcontent = current.tpl.image.replace(/\\{href\\}/g, href);\n\t\t\t\tbreak;\n\n\t\t\t\tcase 'swf':\n\t\t\t\t\tcontent = '<object id=\"fancybox-swf\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"100%\" height=\"100%\"><param name=\"movie\" value=\"' + href + '\"></param>';\n\t\t\t\t\tembed   = '';\n\n\t\t\t\t\t$.each(current.swf, function(name, val) {\n\t\t\t\t\t\tcontent += '<param name=\"' + name + '\" value=\"' + val + '\"></param>';\n\t\t\t\t\t\tembed   += ' ' + name + '=\"' + val + '\"';\n\t\t\t\t\t});\n\n\t\t\t\t\tcontent += '<embed src=\"' + href + '\" type=\"application/x-shockwave-flash\" width=\"100%\" height=\"100%\"' + embed + '></embed></object>';\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (!(isQuery(content) && content.parent().is(current.inner))) {\n\t\t\t\tcurrent.inner.append( content );\n\t\t\t}\n\n\t\t\t// Give a chance for helpers or callbacks to update elements\n\t\t\tF.trigger('beforeShow');\n\n\t\t\t// Set scrolling before calculating dimensions\n\t\t\tcurrent.inner.css('overflow', scrolling === 'yes' ? 'scroll' : (scrolling === 'no' ? 'hidden' : scrolling));\n\n\t\t\t// Set initial dimensions and start position\n\t\t\tF._setDimension();\n\n\t\t\tF.reposition();\n\n\t\t\tF.isOpen = false;\n\t\t\tF.coming = null;\n\n\t\t\tF.bindEvents();\n\n\t\t\tif (!F.isOpened) {\n\t\t\t\t$('.fancybox-wrap').not( current.wrap ).stop(true).trigger('onReset').remove();\n\n\t\t\t} else if (previous.prevMethod) {\n\t\t\t\tF.transitions[ previous.prevMethod ]();\n\t\t\t}\n\n\t\t\tF.transitions[ F.isOpened ? current.nextMethod : current.openMethod ]();\n\n\t\t\tF._preloadImages();\n\t\t},\n\n\t\t_setDimension: function () {\n\t\t\tvar viewport   = F.getViewport(),\n\t\t\t\tsteps      = 0,\n\t\t\t\tcanShrink  = false,\n\t\t\t\tcanExpand  = false,\n\t\t\t\twrap       = F.wrap,\n\t\t\t\tskin       = F.skin,\n\t\t\t\tinner      = F.inner,\n\t\t\t\tcurrent    = F.current,\n\t\t\t\twidth      = current.width,\n\t\t\t\theight     = current.height,\n\t\t\t\tminWidth   = current.minWidth,\n\t\t\t\tminHeight  = current.minHeight,\n\t\t\t\tmaxWidth   = current.maxWidth,\n\t\t\t\tmaxHeight  = current.maxHeight,\n\t\t\t\tscrolling  = current.scrolling,\n\t\t\t\tscrollOut  = current.scrollOutside ? current.scrollbarWidth : 0,\n\t\t\t\tmargin     = current.margin,\n\t\t\t\twMargin    = getScalar(margin[1] + margin[3]),\n\t\t\t\thMargin    = getScalar(margin[0] + margin[2]),\n\t\t\t\twPadding,\n\t\t\t\thPadding,\n\t\t\t\twSpace,\n\t\t\t\thSpace,\n\t\t\t\torigWidth,\n\t\t\t\torigHeight,\n\t\t\t\torigMaxWidth,\n\t\t\t\torigMaxHeight,\n\t\t\t\tratio,\n\t\t\t\twidth_,\n\t\t\t\theight_,\n\t\t\t\tmaxWidth_,\n\t\t\t\tmaxHeight_,\n\t\t\t\tiframe,\n\t\t\t\tbody;\n\n\t\t\t// Reset dimensions so we could re-check actual size\n\t\t\twrap.add(skin).add(inner).width('auto').height('auto').removeClass('fancybox-tmp');\n\n\t\t\twPadding = getScalar(skin.outerWidth(true)  - skin.width());\n\t\t\thPadding = getScalar(skin.outerHeight(true) - skin.height());\n\n\t\t\t// Any space between content and viewport (margin, padding, border, title)\n\t\t\twSpace = wMargin + wPadding;\n\t\t\thSpace = hMargin + hPadding;\n\n\t\t\torigWidth  = isPercentage(width)  ? (viewport.w - wSpace) * getScalar(width)  / 100 : width;\n\t\t\torigHeight = isPercentage(height) ? (viewport.h - hSpace) * getScalar(height) / 100 : height;\n\n\t\t\tif (current.type === 'iframe') {\n\t\t\t\tiframe = current.content;\n\n\t\t\t\tif (current.autoHeight && iframe.data('ready') === 1) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (iframe[0].contentWindow.document.location) {\n\t\t\t\t\t\t\tinner.width( origWidth ).height(9999);\n\n\t\t\t\t\t\t\tbody = iframe.contents().find('body');\n\n\t\t\t\t\t\t\tif (scrollOut) {\n\t\t\t\t\t\t\t\tbody.css('overflow-x', 'hidden');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\torigHeight = body.outerHeight(true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\n\t\t\t} else if (current.autoWidth || current.autoHeight) {\n\t\t\t\tinner.addClass( 'fancybox-tmp' );\n\n\t\t\t\t// Set width or height in case we need to calculate only one dimension\n\t\t\t\tif (!current.autoWidth) {\n\t\t\t\t\tinner.width( origWidth );\n\t\t\t\t}\n\n\t\t\t\tif (!current.autoHeight) {\n\t\t\t\t\tinner.height( origHeight );\n\t\t\t\t}\n\n\t\t\t\tif (current.autoWidth) {\n\t\t\t\t\torigWidth = inner.width();\n\t\t\t\t}\n\n\t\t\t\tif (current.autoHeight) {\n\t\t\t\t\torigHeight = inner.height();\n\t\t\t\t}\n\n\t\t\t\tinner.removeClass( 'fancybox-tmp' );\n\t\t\t}\n\n\t\t\twidth  = getScalar( origWidth );\n\t\t\theight = getScalar( origHeight );\n\n\t\t\tratio  = origWidth / origHeight;\n\n\t\t\t// Calculations for the content\n\t\t\tminWidth  = getScalar(isPercentage(minWidth) ? getScalar(minWidth, 'w') - wSpace : minWidth);\n\t\t\tmaxWidth  = getScalar(isPercentage(maxWidth) ? getScalar(maxWidth, 'w') - wSpace : maxWidth);\n\n\t\t\tminHeight = getScalar(isPercentage(minHeight) ? getScalar(minHeight, 'h') - hSpace : minHeight);\n\t\t\tmaxHeight = getScalar(isPercentage(maxHeight) ? getScalar(maxHeight, 'h') - hSpace : maxHeight);\n\n\t\t\t// These will be used to determine if wrap can fit in the viewport\n\t\t\torigMaxWidth  = maxWidth;\n\t\t\torigMaxHeight = maxHeight;\n\n\t\t\tif (current.fitToView) {\n\t\t\t\tmaxWidth  = Math.min(viewport.w - wSpace, maxWidth);\n\t\t\t\tmaxHeight = Math.min(viewport.h - hSpace, maxHeight);\n\t\t\t}\n\n\t\t\tmaxWidth_  = viewport.w - wMargin;\n\t\t\tmaxHeight_ = viewport.h - hMargin;\n\n\t\t\tif (current.aspectRatio) {\n\t\t\t\tif (width > maxWidth) {\n\t\t\t\t\twidth  = maxWidth;\n\t\t\t\t\theight = getScalar(width / ratio);\n\t\t\t\t}\n\n\t\t\t\tif (height > maxHeight) {\n\t\t\t\t\theight = maxHeight;\n\t\t\t\t\twidth  = getScalar(height * ratio);\n\t\t\t\t}\n\n\t\t\t\tif (width < minWidth) {\n\t\t\t\t\twidth  = minWidth;\n\t\t\t\t\theight = getScalar(width / ratio);\n\t\t\t\t}\n\n\t\t\t\tif (height < minHeight) {\n\t\t\t\t\theight = minHeight;\n\t\t\t\t\twidth  = getScalar(height * ratio);\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\twidth = Math.max(minWidth, Math.min(width, maxWidth));\n\n\t\t\t\tif (current.autoHeight && current.type !== 'iframe') {\n\t\t\t\t\tinner.width( width );\n\n\t\t\t\t\theight = inner.height();\n\t\t\t\t}\n\n\t\t\t\theight = Math.max(minHeight, Math.min(height, maxHeight));\n\t\t\t}\n\n\t\t\t// Try to fit inside viewport (including the title)\n\t\t\tif (current.fitToView) {\n\t\t\t\tinner.width( width ).height( height );\n\n\t\t\t\twrap.width( width + wPadding );\n\n\t\t\t\t// Real wrap dimensions\n\t\t\t\twidth_  = wrap.width();\n\t\t\t\theight_ = wrap.height();\n\n\t\t\t\tif (current.aspectRatio) {\n\t\t\t\t\twhile ((width_ > maxWidth_ || height_ > maxHeight_) && width > minWidth && height > minHeight) {\n\t\t\t\t\t\tif (steps++ > 19) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\theight = Math.max(minHeight, Math.min(maxHeight, height - 10));\n\t\t\t\t\t\twidth  = getScalar(height * ratio);\n\n\t\t\t\t\t\tif (width < minWidth) {\n\t\t\t\t\t\t\twidth  = minWidth;\n\t\t\t\t\t\t\theight = getScalar(width / ratio);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (width > maxWidth) {\n\t\t\t\t\t\t\twidth  = maxWidth;\n\t\t\t\t\t\t\theight = getScalar(width / ratio);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tinner.width( width ).height( height );\n\n\t\t\t\t\t\twrap.width( width + wPadding );\n\n\t\t\t\t\t\twidth_  = wrap.width();\n\t\t\t\t\t\theight_ = wrap.height();\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\twidth  = Math.max(minWidth,  Math.min(width,  width  - (width_  - maxWidth_)));\n\t\t\t\t\theight = Math.max(minHeight, Math.min(height, height - (height_ - maxHeight_)));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (scrollOut && scrolling === 'auto' && height < origHeight && (width + wPadding + scrollOut) < maxWidth_) {\n\t\t\t\twidth += scrollOut;\n\t\t\t}\n\n\t\t\tinner.width( width ).height( height );\n\n\t\t\twrap.width( width + wPadding );\n\n\t\t\twidth_  = wrap.width();\n\t\t\theight_ = wrap.height();\n\n\t\t\tcanShrink = (width_ > maxWidth_ || height_ > maxHeight_) && width > minWidth && height > minHeight;\n\t\t\tcanExpand = current.aspectRatio ? (width < origMaxWidth && height < origMaxHeight && width < origWidth && height < origHeight) : ((width < origMaxWidth || height < origMaxHeight) && (width < origWidth || height < origHeight));\n\n\t\t\t$.extend(current, {\n\t\t\t\tdim : {\n\t\t\t\t\twidth\t: getValue( width_ ),\n\t\t\t\t\theight\t: getValue( height_ )\n\t\t\t\t},\n\t\t\t\torigWidth  : origWidth,\n\t\t\t\torigHeight : origHeight,\n\t\t\t\tcanShrink  : canShrink,\n\t\t\t\tcanExpand  : canExpand,\n\t\t\t\twPadding   : wPadding,\n\t\t\t\thPadding   : hPadding,\n\t\t\t\twrapSpace  : height_ - skin.outerHeight(true),\n\t\t\t\tskinSpace  : skin.height() - height\n\t\t\t});\n\n\t\t\tif (!iframe && current.autoHeight && height > minHeight && height < maxHeight && !canExpand) {\n\t\t\t\tinner.height('auto');\n\t\t\t}\n\t\t},\n\n\t\t_getPosition: function (onlyAbsolute) {\n\t\t\tvar current  = F.current,\n\t\t\t\tviewport = F.getViewport(),\n\t\t\t\tmargin   = current.margin,\n\t\t\t\twidth    = F.wrap.width()  + margin[1] + margin[3],\n\t\t\t\theight   = F.wrap.height() + margin[0] + margin[2],\n\t\t\t\trez      = {\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop  : margin[0],\n\t\t\t\t\tleft : margin[3]\n\t\t\t\t};\n\n\t\t\tif (current.autoCenter && current.fixed && !onlyAbsolute && height <= viewport.h && width <= viewport.w) {\n\t\t\t\trez.position = 'fixed';\n\n\t\t\t} else if (!current.locked) {\n\t\t\t\trez.top  += viewport.y;\n\t\t\t\trez.left += viewport.x;\n\t\t\t}\n\n\t\t\trez.top  = getValue(Math.max(rez.top,  rez.top  + ((viewport.h - height) * current.topRatio)));\n\t\t\trez.left = getValue(Math.max(rez.left, rez.left + ((viewport.w - width)  * current.leftRatio)));\n\n\t\t\treturn rez;\n\t\t},\n\n\t\t_afterZoomIn: function () {\n\t\t\tvar current = F.current;\n\n\t\t\tif (!current) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tF.isOpen = F.isOpened = true;\n\n\t\t\tF.wrap.css('overflow', 'visible').addClass('fancybox-opened').hide().show(0);\n\n\t\t\tF.update();\n\n\t\t\t// Assign a click event\n\t\t\tif ( current.closeClick || (current.nextClick && F.group.length > 1) ) {\n\t\t\t\tF.inner.css('cursor', 'pointer').bind('click.fb', function(e) {\n\t\t\t\t\tif (!$(e.target).is('a') && !$(e.target).parent().is('a')) {\n\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\tF[ current.closeClick ? 'close' : 'next' ]();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Create a close button\n\t\t\tif (current.closeBtn) {\n\t\t\t\t$(current.tpl.closeBtn).appendTo(F.skin).bind('click.fb', function(e) {\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tF.close();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Create navigation arrows\n\t\t\tif (current.arrows && F.group.length > 1) {\n\t\t\t\tif (current.loop || current.index > 0) {\n\t\t\t\t\t$(current.tpl.prev).appendTo(F.outer).bind('click.fb', F.prev);\n\t\t\t\t}\n\n\t\t\t\tif (current.loop || current.index < F.group.length - 1) {\n\t\t\t\t\t$(current.tpl.next).appendTo(F.outer).bind('click.fb', F.next);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tF.trigger('afterShow');\n\n\t\t\t// Stop the slideshow if this is the last item\n\t\t\tif (!current.loop && current.index === current.group.length - 1) {\n\n\t\t\t\tF.play( false );\n\n\t\t\t} else if (F.opts.autoPlay && !F.player.isActive) {\n\t\t\t\tF.opts.autoPlay = false;\n\n\t\t\t\tF.play(true);\n\t\t\t}\n\t\t},\n\n\t\t_afterZoomOut: function ( obj ) {\n\t\t\tobj = obj || F.current;\n\n\t\t\t$('.fancybox-wrap').trigger('onReset').remove();\n\n\t\t\t$.extend(F, {\n\t\t\t\tgroup  : {},\n\t\t\t\topts   : {},\n\t\t\t\trouter : false,\n\t\t\t\tcurrent   : null,\n\t\t\t\tisActive  : false,\n\t\t\t\tisOpened  : false,\n\t\t\t\tisOpen    : false,\n\t\t\t\tisClosing : false,\n\t\t\t\twrap   : null,\n\t\t\t\tskin   : null,\n\t\t\t\touter  : null,\n\t\t\t\tinner  : null\n\t\t\t});\n\n\t\t\tF.trigger('afterClose', obj);\n\t\t}\n\t});\n\n\t/*\n\t *\tDefault transitions\n\t */\n\n\tF.transitions = {\n\t\tgetOrigPosition: function () {\n\t\t\tvar current  = F.current,\n\t\t\t\telement  = current.element,\n\t\t\t\torig     = current.orig,\n\t\t\t\tpos      = {},\n\t\t\t\twidth    = 50,\n\t\t\t\theight   = 50,\n\t\t\t\thPadding = current.hPadding,\n\t\t\t\twPadding = current.wPadding,\n\t\t\t\tviewport = F.getViewport();\n\n\t\t\tif (!orig && current.isDom && element.is(':visible')) {\n\t\t\t\torig = element.find('img:first');\n\n\t\t\t\tif (!orig.length) {\n\t\t\t\t\torig = element;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (isQuery(orig)) {\n\t\t\t\tpos = orig.offset();\n\n\t\t\t\tif (orig.is('img')) {\n\t\t\t\t\twidth  = orig.outerWidth();\n\t\t\t\t\theight = orig.outerHeight();\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tpos.top  = viewport.y + (viewport.h - height) * current.topRatio;\n\t\t\t\tpos.left = viewport.x + (viewport.w - width)  * current.leftRatio;\n\t\t\t}\n\n\t\t\tif (F.wrap.css('position') === 'fixed' || current.locked) {\n\t\t\t\tpos.top  -= viewport.y;\n\t\t\t\tpos.left -= viewport.x;\n\t\t\t}\n\n\t\t\tpos = {\n\t\t\t\ttop     : getValue(pos.top  - hPadding * current.topRatio),\n\t\t\t\tleft    : getValue(pos.left - wPadding * current.leftRatio),\n\t\t\t\twidth   : getValue(width  + wPadding),\n\t\t\t\theight  : getValue(height + hPadding)\n\t\t\t};\n\n\t\t\treturn pos;\n\t\t},\n\n\t\tstep: function (now, fx) {\n\t\t\tvar ratio,\n\t\t\t\tpadding,\n\t\t\t\tvalue,\n\t\t\t\tprop       = fx.prop,\n\t\t\t\tcurrent    = F.current,\n\t\t\t\twrapSpace  = current.wrapSpace,\n\t\t\t\tskinSpace  = current.skinSpace;\n\n\t\t\tif (prop === 'width' || prop === 'height') {\n\t\t\t\tratio = fx.end === fx.start ? 1 : (now - fx.start) / (fx.end - fx.start);\n\n\t\t\t\tif (F.isClosing) {\n\t\t\t\t\tratio = 1 - ratio;\n\t\t\t\t}\n\n\t\t\t\tpadding = prop === 'width' ? current.wPadding : current.hPadding;\n\t\t\t\tvalue   = now - padding;\n\n\t\t\t\tF.skin[ prop ](  getScalar( prop === 'width' ?  value : value - (wrapSpace * ratio) ) );\n\t\t\t\tF.inner[ prop ]( getScalar( prop === 'width' ?  value : value - (wrapSpace * ratio) - (skinSpace * ratio) ) );\n\t\t\t}\n\t\t},\n\n\t\tzoomIn: function () {\n\t\t\tvar current  = F.current,\n\t\t\t\tstartPos = current.pos,\n\t\t\t\teffect   = current.openEffect,\n\t\t\t\telastic  = effect === 'elastic',\n\t\t\t\tendPos   = $.extend({opacity : 1}, startPos);\n\n\t\t\t// Remove \"position\" property that breaks older IE\n\t\t\tdelete endPos.position;\n\n\t\t\tif (elastic) {\n\t\t\t\tstartPos = this.getOrigPosition();\n\n\t\t\t\tif (current.openOpacity) {\n\t\t\t\t\tstartPos.opacity = 0.1;\n\t\t\t\t}\n\n\t\t\t} else if (effect === 'fade') {\n\t\t\t\tstartPos.opacity = 0.1;\n\t\t\t}\n\n\t\t\tF.wrap.css(startPos).animate(endPos, {\n\t\t\t\tduration : effect === 'none' ? 0 : current.openSpeed,\n\t\t\t\teasing   : current.openEasing,\n\t\t\t\tstep     : elastic ? this.step : null,\n\t\t\t\tcomplete : F._afterZoomIn\n\t\t\t});\n\t\t},\n\n\t\tzoomOut: function () {\n\t\t\tvar current  = F.current,\n\t\t\t\teffect   = current.closeEffect,\n\t\t\t\telastic  = effect === 'elastic',\n\t\t\t\tendPos   = {opacity : 0.1};\n\n\t\t\tif (elastic) {\n\t\t\t\tendPos = this.getOrigPosition();\n\n\t\t\t\tif (current.closeOpacity) {\n\t\t\t\t\tendPos.opacity = 0.1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tF.wrap.animate(endPos, {\n\t\t\t\tduration : effect === 'none' ? 0 : current.closeSpeed,\n\t\t\t\teasing   : current.closeEasing,\n\t\t\t\tstep     : elastic ? this.step : null,\n\t\t\t\tcomplete : F._afterZoomOut\n\t\t\t});\n\t\t},\n\n\t\tchangeIn: function () {\n\t\t\tvar current   = F.current,\n\t\t\t\teffect    = current.nextEffect,\n\t\t\t\tstartPos  = current.pos,\n\t\t\t\tendPos    = { opacity : 1 },\n\t\t\t\tdirection = F.direction,\n\t\t\t\tdistance  = 200,\n\t\t\t\tfield;\n\n\t\t\tstartPos.opacity = 0.1;\n\n\t\t\tif (effect === 'elastic') {\n\t\t\t\tfield = direction === 'down' || direction === 'up' ? 'top' : 'left';\n\n\t\t\t\tif (direction === 'down' || direction === 'right') {\n\t\t\t\t\tstartPos[ field ] = getValue(getScalar(startPos[ field ]) - distance);\n\t\t\t\t\tendPos[ field ]   = '+=' + distance + 'px';\n\n\t\t\t\t} else {\n\t\t\t\t\tstartPos[ field ] = getValue(getScalar(startPos[ field ]) + distance);\n\t\t\t\t\tendPos[ field ]   = '-=' + distance + 'px';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Workaround for http://bugs.jquery.com/ticket/12273\n\t\t\tif (effect === 'none') {\n\t\t\t\tF._afterZoomIn();\n\n\t\t\t} else {\n\t\t\t\tF.wrap.css(startPos).animate(endPos, {\n\t\t\t\t\tduration : current.nextSpeed,\n\t\t\t\t\teasing   : current.nextEasing,\n\t\t\t\t\tcomplete : F._afterZoomIn\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tchangeOut: function () {\n\t\t\tvar previous  = F.previous,\n\t\t\t\teffect    = previous.prevEffect,\n\t\t\t\tendPos    = { opacity : 0.1 },\n\t\t\t\tdirection = F.direction,\n\t\t\t\tdistance  = 200;\n\n\t\t\tif (effect === 'elastic') {\n\t\t\t\tendPos[ direction === 'down' || direction === 'up' ? 'top' : 'left' ] = ( direction === 'up' || direction === 'left' ? '-' : '+' ) + '=' + distance + 'px';\n\t\t\t}\n\n\t\t\tprevious.wrap.animate(endPos, {\n\t\t\t\tduration : effect === 'none' ? 0 : previous.prevSpeed,\n\t\t\t\teasing   : previous.prevEasing,\n\t\t\t\tcomplete : function () {\n\t\t\t\t\t$(this).trigger('onReset').remove();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/*\n\t *\tOverlay helper\n\t */\n\n\tF.helpers.overlay = {\n\t\tdefaults : {\n\t\t\tcloseClick : true,      // if true, fancyBox will be closed when user clicks on the overlay\n\t\t\tspeedOut   : 200,       // duration of fadeOut animation\n\t\t\tshowEarly  : true,      // indicates if should be opened immediately or wait until the content is ready\n\t\t\tcss        : {},        // custom CSS properties\n\t\t\tlocked     : !isTouch,  // if true, the content will be locked into overlay\n\t\t\tfixed      : true       // if false, the overlay CSS position property will not be set to \"fixed\"\n\t\t},\n\n\t\toverlay : null,      // current handle\n\t\tfixed   : false,     // indicates if the overlay has position \"fixed\"\n\t\tel      : $('html'), // element that contains \"the lock\"\n\n\t\t// Public methods\n\t\tcreate : function(opts) {\n\t\t\tvar parent;\n\n\t\t\topts = $.extend({}, this.defaults, opts);\n\n\t\t\tif (this.overlay) {\n\t\t\t\tthis.close();\n\t\t\t}\n\n\t\t\tparent = F.coming ? F.coming.parent : opts.parent;\n\n\t\t\tthis.overlay = $('<div class=\"fancybox-overlay\"></div>').appendTo( parent && parent.lenth ? parent : 'body' );\n\t\t\tthis.fixed   = false;\n\n\t\t\tif (opts.fixed && F.defaults.fixed) {\n\t\t\t\tthis.overlay.addClass('fancybox-overlay-fixed');\n\n\t\t\t\tthis.fixed = true;\n\t\t\t}\n\t\t},\n\n\t\topen : function(opts) {\n\t\t\tvar that = this;\n\n\t\t\topts = $.extend({}, this.defaults, opts);\n\n\t\t\tif (this.overlay) {\n\t\t\t\tthis.overlay.unbind('.overlay').width('auto').height('auto');\n\n\t\t\t} else {\n\t\t\t\tthis.create(opts);\n\t\t\t}\n\n\t\t\tif (!this.fixed) {\n\t\t\t\tW.bind('resize.overlay', $.proxy( this.update, this) );\n\n\t\t\t\tthis.update();\n\t\t\t}\n\n\t\t\tif (opts.closeClick) {\n\t\t\t\tthis.overlay.bind('click.overlay', function(e) {\n\t\t\t\t\tif ($(e.target).hasClass('fancybox-overlay')) {\n\t\t\t\t\t\tif (F.isActive) {\n\t\t\t\t\t\t\tF.close();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.close();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.overlay.css( opts.css ).show();\n\t\t},\n\n\t\tclose : function() {\n\t\t\tW.unbind('resize.overlay');\n\n\t\t\tif (this.el.hasClass('fancybox-lock')) {\n\t\t\t\t$('.fancybox-margin').removeClass('fancybox-margin');\n\n\t\t\t\tthis.el.removeClass('fancybox-lock');\n\n\t\t\t\tW.scrollTop( this.scrollV ).scrollLeft( this.scrollH );\n\t\t\t}\n\n\t\t\t$('.fancybox-overlay').remove().hide();\n\n\t\t\t$.extend(this, {\n\t\t\t\toverlay : null,\n\t\t\t\tfixed   : false\n\t\t\t});\n\t\t},\n\n\t\t// Private, callbacks\n\n\t\tupdate : function () {\n\t\t\tvar width = '100%', offsetWidth;\n\n\t\t\t// Reset width/height so it will not mess\n\t\t\tthis.overlay.width(width).height('100%');\n\n\t\t\t// jQuery does not return reliable result for IE\n\t\t\tif (IE) {\n\t\t\t\toffsetWidth = Math.max(document.documentElement.offsetWidth, document.body.offsetWidth);\n\n\t\t\t\tif (D.width() > offsetWidth) {\n\t\t\t\t\twidth = D.width();\n\t\t\t\t}\n\n\t\t\t} else if (D.width() > W.width()) {\n\t\t\t\twidth = D.width();\n\t\t\t}\n\n\t\t\tthis.overlay.width(width).height(D.height());\n\t\t},\n\n\t\t// This is where we can manipulate DOM, because later it would cause iframes to reload\n\t\tonReady : function (opts, obj) {\n\t\t\tvar overlay = this.overlay;\n\n\t\t\t$('.fancybox-overlay').stop(true, true);\n\n\t\t\tif (!overlay) {\n\t\t\t\tthis.create(opts);\n\t\t\t}\n\n\t\t\tif (opts.locked && this.fixed && obj.fixed) {\n\t\t\t\tobj.locked = this.overlay.append( obj.wrap );\n\t\t\t\tobj.fixed  = false;\n\t\t\t}\n\n\t\t\tif (opts.showEarly === true) {\n\t\t\t\tthis.beforeShow.apply(this, arguments);\n\t\t\t}\n\t\t},\n\n\t\tbeforeShow : function(opts, obj) {\n\t\t\tif (obj.locked && !this.el.hasClass('fancybox-lock')) {\n\t\t\t\tif (this.fixPosition !== false) {\n\t\t\t\t\t$('*').filter(function(){\n\t\t\t\t\t\treturn ($(this).css('position') === 'fixed' && !$(this).hasClass(\"fancybox-overlay\") && !$(this).hasClass(\"fancybox-wrap\") );\n\t\t\t\t\t}).addClass('fancybox-margin');\n\t\t\t\t}\n\n\t\t\t\tthis.el.addClass('fancybox-margin');\n\n\t\t\t\tthis.scrollV = W.scrollTop();\n\t\t\t\tthis.scrollH = W.scrollLeft();\n\n\t\t\t\tthis.el.addClass('fancybox-lock');\n\n\t\t\t\tW.scrollTop( this.scrollV ).scrollLeft( this.scrollH );\n\t\t\t}\n\n\t\t\tthis.open(opts);\n\t\t},\n\n\t\tonUpdate : function() {\n\t\t\tif (!this.fixed) {\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t},\n\n\t\tafterClose: function (opts) {\n\t\t\t// Remove overlay if exists and fancyBox is not opening\n\t\t\t// (e.g., it is not being open using afterClose callback)\n\t\t\tif (this.overlay && !F.coming) {\n\t\t\t\tthis.overlay.fadeOut(opts.speedOut, $.proxy( this.close, this ));\n\t\t\t}\n\t\t}\n\t};\n\n\t/*\n\t *\tTitle helper\n\t */\n\n\tF.helpers.title = {\n\t\tdefaults : {\n\t\t\ttype     : 'float', // 'float', 'inside', 'outside' or 'over',\n\t\t\tposition : 'bottom' // 'top' or 'bottom'\n\t\t},\n\n\t\tbeforeShow: function (opts) {\n\t\t\tvar current = F.current,\n\t\t\t\ttext    = current.title,\n\t\t\t\ttype    = opts.type,\n\t\t\t\ttitle,\n\t\t\t\ttarget;\n\n\t\t\tif ($.isFunction(text)) {\n\t\t\t\ttext = text.call(current.element, current);\n\t\t\t}\n\n\t\t\tif (!isString(text) || $.trim(text) === '') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttitle = $('<div class=\"fancybox-title fancybox-title-' + type + '-wrap\">' + text + '</div>');\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'inside':\n\t\t\t\t\ttarget = F.skin;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 'outside':\n\t\t\t\t\ttarget = F.wrap;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 'over':\n\t\t\t\t\ttarget = F.inner;\n\t\t\t\tbreak;\n\n\t\t\t\tdefault: // 'float'\n\t\t\t\t\ttarget = F.skin;\n\n\t\t\t\t\ttitle.appendTo('body');\n\n\t\t\t\t\tif (IE) {\n\t\t\t\t\t\ttitle.width( title.width() );\n\t\t\t\t\t}\n\n\t\t\t\t\ttitle.wrapInner('<span class=\"child\"></span>');\n\n\t\t\t\t\t//Increase bottom margin so this title will also fit into viewport\n\t\t\t\t\tF.current.margin[2] += Math.abs( getScalar(title.css('margin-bottom')) );\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\ttitle[ (opts.position === 'top' ? 'prependTo'  : 'appendTo') ](target);\n\t\t}\n\t};\n\n\t// jQuery plugin initialization\n\t$.fn.fancybox = function (options) {\n\t\tvar index,\n\t\t\tthat     = $(this),\n\t\t\tselector = this.selector || '',\n\t\t\trun      = function(e) {\n\t\t\t\tvar what = $(this).blur(), idx = index, relType, relVal;\n\n\t\t\t\tif (!(e.ctrlKey || e.altKey || e.shiftKey || e.metaKey) && !what.is('.fancybox-wrap')) {\n\t\t\t\t\trelType = options.groupAttr || 'data-fancybox-group';\n\t\t\t\t\trelVal  = what.attr(relType);\n\n\t\t\t\t\tif (!relVal) {\n\t\t\t\t\t\trelType = 'rel';\n\t\t\t\t\t\trelVal  = what.get(0)[ relType ];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (relVal && relVal !== '' && relVal !== 'nofollow') {\n\t\t\t\t\t\twhat = selector.length ? $(selector) : that;\n\t\t\t\t\t\twhat = what.filter('[' + relType + '=\"' + relVal + '\"]');\n\t\t\t\t\t\tidx  = what.index(this);\n\t\t\t\t\t}\n\n\t\t\t\t\toptions.index = idx;\n\n\t\t\t\t\t// Stop an event from bubbling if everything is fine\n\t\t\t\t\tif (F.open(what, options) !== false) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\toptions = options || {};\n\t\tindex   = options.index || 0;\n\n\t\tif (!selector || options.live === false) {\n\t\t\tthat.unbind('click.fb-start').bind('click.fb-start', run);\n\n\t\t} else {\n\t\t\tD.undelegate(selector, 'click.fb-start').delegate(selector + \":not('.fancybox-item, .fancybox-nav')\", 'click.fb-start', run);\n\t\t}\n\n\t\tthis.filter('[data-fancybox-start=1]').trigger('click');\n\n\t\treturn this;\n\t};\n\n\t// Tests that need a body at doc ready\n\tD.ready(function() {\n\t\tvar w1, w2;\n\n\t\tif ( $.scrollbarWidth === undefined ) {\n\t\t\t// http://benalman.com/projects/jquery-misc-plugins/#scrollbarwidth\n\t\t\t$.scrollbarWidth = function() {\n\t\t\t\tvar parent = $('<div style=\"width:50px;height:50px;overflow:auto\"><div/></div>').appendTo('body'),\n\t\t\t\t\tchild  = parent.children(),\n\t\t\t\t\twidth  = child.innerWidth() - child.height( 99 ).innerWidth();\n\n\t\t\t\tparent.remove();\n\n\t\t\t\treturn width;\n\t\t\t};\n\t\t}\n\n\t\tif ( $.support.fixedPosition === undefined ) {\n\t\t\t$.support.fixedPosition = (function() {\n\t\t\t\tvar elem  = $('<div style=\"position:fixed;top:20px;\"></div>').appendTo('body'),\n\t\t\t\t\tfixed = ( elem[0].offsetTop === 20 || elem[0].offsetTop === 15 );\n\n\t\t\t\telem.remove();\n\n\t\t\t\treturn fixed;\n\t\t\t}());\n\t\t}\n\n\t\t$.extend(F.defaults, {\n\t\t\tscrollbarWidth : $.scrollbarWidth(),\n\t\t\tfixed  : $.support.fixedPosition,\n\t\t\tparent : $('body')\n\t\t});\n\n\t\t//Get real width of page scroll-bar\n\t\tw1 = $(window).width();\n\n\t\tH.addClass('fancybox-lock-test');\n\n\t\tw2 = $(window).width();\n\n\t\tH.removeClass('fancybox-lock-test');\n\n\t\t$(\"<style type='text/css'>.fancybox-margin{margin-right:\" + (w2 - w1) + \"px;}</style>\").appendTo(\"head\");\n\t});\n\n}(window, document, jQuery));"]}